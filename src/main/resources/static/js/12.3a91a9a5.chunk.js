(this["webpackJsonp@minimal/minimal-kit-react"]=this["webpackJsonp@minimal/minimal-kit-react"]||[]).push([[12],{781:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var i=a(2),n=a(36),r=a(206),c=a(312),o=a(257),s=a(752),l=a(34),d=a(0),u=["links","action","heading","moreLink","sx"];function j(e){var t=e.links,a=e.action,j=e.heading,b=e.moreLink,p=void 0===b?[]:b,h=e.sx,O=Object(n.a)(e,u);return Object(d.jsxs)(c.a,{sx:Object(i.a)({mb:5},h),children:[Object(d.jsxs)(c.a,{sx:{display:"flex",alignItems:"center"},children:[Object(d.jsxs)(c.a,{sx:{flexGrow:1},children:[Object(d.jsx)(o.a,{variant:"h4",gutterBottom:!0,children:j}),Object(d.jsx)(l.a,Object(i.a)({links:t},O))]}),a&&Object(d.jsx)(c.a,{sx:{flexShrink:0},children:a})]}),Object(d.jsx)(c.a,{sx:{mt:2},children:Object(r.isString)(p)?Object(d.jsx)(s.a,{href:p,target:"_blank",variant:"body2",children:p}):p.map((function(e){return Object(d.jsx)(s.a,{noWrap:!0,href:e,variant:"body2",target:"_blank",sx:{display:"table"},children:e},e)}))})]})}},784:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));a(1);var i=a(847),n=a(783),r=a(0);function c(){return Object(r.jsx)(n.b,{children:Object(r.jsx)("div",{style:{position:"absolute",top:0,width:"100%"},children:Object(r.jsx)(i.a,{})})})}},788:function(e,t,a){"use strict";a.d(t,"b",(function(){return r}));var i=a(101),n=a(112);function r(e){return Object(i.a)("MuiDialogTitle",e)}var c=Object(n.a)("MuiDialogTitle",["root"]);t.a=c},789:function(e,t,a){"use strict";var i=a(258);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a(259)),r=a(0),c=(0,n.default)((0,r.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=c},790:function(e,t){t.__esModule=!0,t.default={body:'<path fill="currentColor" d="M19 11h-6V5a1 1 0 0 0-2 0v6H5a1 1 0 0 0 0 2h6v6a1 1 0 0 0 2 0v-6h6a1 1 0 0 0 0-2z"/>',width:24,height:24}},791:function(e,t,a){"use strict";var i=a(258);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a(259)),r=a(0),c=(0,n.default)((0,r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.default=c},800:function(e,t){t.__esModule=!0,t.default={body:'<path fill="currentColor" d="M21 6h-5V4.33A2.42 2.42 0 0 0 13.5 2h-3A2.42 2.42 0 0 0 8 4.33V6H3a1 1 0 0 0 0 2h1v11a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8h1a1 1 0 0 0 0-2zM10 16a1 1 0 0 1-2 0v-4a1 1 0 0 1 2 0zm0-11.67c0-.16.21-.33.5-.33h3c.29 0 .5.17.5.33V6h-4zM16 16a1 1 0 0 1-2 0v-4a1 1 0 0 1 2 0z"/>',width:24,height:24}},817:function(e,t,a){"use strict";var i=a(4),n=a(6),r=a(3),c=a(1),o=(a(10),a(11)),s=a(151),l=a(257),d=a(13),u=a(7),j=a(101),b=a(112);function p(e){return Object(j.a)("MuiCardHeader",e)}var h=Object(b.a)("MuiCardHeader",["root","avatar","action","content","title","subheader"]),O=a(0),f=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],m=Object(u.a)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:function(e,t){var a;return Object(r.a)((a={},Object(i.a)(a,"& .".concat(h.title),t.title),Object(i.a)(a,"& .".concat(h.subheader),t.subheader),a),t.root)}})({display:"flex",alignItems:"center",padding:16}),x=Object(u.a)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:function(e,t){return t.avatar}})({display:"flex",flex:"0 0 auto",marginRight:16}),v=Object(u.a)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:function(e,t){return t.action}})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),g=Object(u.a)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:function(e,t){return t.content}})({flex:"1 1 auto"}),y=c.forwardRef((function(e,t){var a=Object(d.a)({props:e,name:"MuiCardHeader"}),i=a.action,c=a.avatar,u=a.className,j=a.component,b=void 0===j?"div":j,h=a.disableTypography,y=void 0!==h&&h,k=a.subheader,w=a.subheaderTypographyProps,M=a.title,S=a.titleTypographyProps,C=Object(n.a)(a,f),K=Object(r.a)({},a,{component:b,disableTypography:y}),I=function(e){var t=e.classes;return Object(s.a)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},p,t)}(K),N=M;null==N||N.type===l.a||y||(N=Object(O.jsx)(l.a,Object(r.a)({variant:c?"body2":"h5",className:I.title,component:"span",display:"block"},S,{children:N})));var R=k;return null==R||R.type===l.a||y||(R=Object(O.jsx)(l.a,Object(r.a)({variant:c?"body2":"body1",className:I.subheader,color:"text.secondary",component:"span",display:"block"},w,{children:R}))),Object(O.jsxs)(m,Object(r.a)({className:Object(o.a)(I.root,u),as:b,ref:t,ownerState:K},C,{children:[c&&Object(O.jsx)(x,{className:I.avatar,ownerState:K,children:c}),Object(O.jsxs)(g,{className:I.content,ownerState:K,children:[N,R]}),i&&Object(O.jsx)(v,{className:I.action,ownerState:K,children:i})]}))}));t.a=y},820:function(e,t,a){"use strict";var i=a(3),n=a(6),r=a(1),c=(a(10),a(11)),o=a(151),s=a(257),l=a(7),d=a(13),u=a(788),j=a(320),b=a(0),p=["className","id"],h=Object(l.a)(s.a,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,t){return t.root}})({padding:"16px 24px",flex:"0 0 auto"}),O=r.forwardRef((function(e,t){var a=Object(d.a)({props:e,name:"MuiDialogTitle"}),s=a.className,l=a.id,O=Object(n.a)(a,p),f=a,m=function(e){var t=e.classes;return Object(o.a)({root:["root"]},u.b,t)}(f),x=r.useContext(j.a).titleId,v=void 0===x?l:x;return Object(b.jsx)(h,Object(i.a)({component:"h2",className:Object(c.a)(m.root,s),ownerState:f,ref:t,variant:"h6",id:v},O))}));t.a=O},822:function(e,t,a){"use strict";var i=a(4),n=a(6),r=a(3),c=a(1),o=(a(10),a(11)),s=a(151),l=a(7),d=a(13),u=a(101),j=a(112);function b(e){return Object(u.a)("MuiDialogContent",e)}Object(j.a)("MuiDialogContent",["root","dividers"]);var p=a(788),h=a(0),O=["className","dividers"],f=Object(l.a)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,a.dividers&&t.dividers]}})((function(e){var t=e.theme,a=e.ownerState;return Object(r.a)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},a.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat(t.palette.divider),borderBottom:"1px solid ".concat(t.palette.divider)}:Object(i.a)({},".".concat(p.a.root," + &"),{paddingTop:0}))})),m=c.forwardRef((function(e,t){var a=Object(d.a)({props:e,name:"MuiDialogContent"}),i=a.className,c=a.dividers,l=void 0!==c&&c,u=Object(n.a)(a,O),j=Object(r.a)({},a,{dividers:l}),p=function(e){var t=e.classes,a={root:["root",e.dividers&&"dividers"]};return Object(s.a)(a,b,t)}(j);return Object(h.jsx)(f,Object(r.a)({className:Object(o.a)(p.root,i),ownerState:j,ref:t},u))}));t.a=m},823:function(e,t,a){"use strict";var i=a(6),n=a(3),r=a(1),c=(a(10),a(11)),o=a(151),s=a(7),l=a(13),d=a(101),u=a(112);function j(e){return Object(d.a)("MuiDialogActions",e)}Object(u.a)("MuiDialogActions",["root","spacing"]);var b=a(0),p=["className","disableSpacing"],h=Object(s.a)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,!a.disableSpacing&&t.spacing]}})((function(e){var t=e.ownerState;return Object(n.a)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),O=r.forwardRef((function(e,t){var a=Object(l.a)({props:e,name:"MuiDialogActions"}),r=a.className,s=a.disableSpacing,d=void 0!==s&&s,u=Object(i.a)(a,p),O=Object(n.a)({},a,{disableSpacing:d}),f=function(e){var t=e.classes,a={root:["root",!e.disableSpacing&&"spacing"]};return Object(o.a)(a,j,t)}(O);return Object(b.jsx)(h,Object(n.a)({className:Object(c.a)(f.root,r),ownerState:O,ref:t},u))}));t.a=O},936:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return ee}));var i=a(8),n=a.n(i),r=a(2),c=a(18),o=a(16),s=a(1),l=a.n(s),d=a(764),u=a(749),j=a(724),b=a(765),p=a(719),h=a(823),O=a(822),f=a(820),m=a(47),x=a(76),v=a(46),g=a(58),y=a(780),k=a(24),w=a(790),M=a.n(w),S=a(766),C=a(744),K=a(775),I=a(767),N=a(727),R=a(741),P=a(742),A=a(31),T=a(781),D=a(152),V=a(113),W=a(260),H=a(783),z=a(773),_=a(786),G=a(754),L=a(789),B=a.n(L),q=a(791),F=a.n(q),E=a(817),J=a(800),U=a.n(J),Y=a(784),Q=a(0),X={PaperProps:{style:{maxHeight:224,width:250}}};function Z(e){var t=e.rows,a=e.isLoading,i=Object(x.b)().enqueueSnackbar,s=Object(v.b)(),d=l.a.useState(!1),w=Object(o.a)(d,2),M=w[0],A=w[1],T=l.a.useState([]),D=Object(o.a)(T,2),L=D[0],q=D[1],J=Object(v.c)(W.j),Z=[{field:"name",headerName:"Group name",width:250,editable:!1},{field:"description",headerName:"Group description",width:300,editable:!1},{field:"kpiAndKra",headerName:"Kpi-Kra",width:300,editable:!1,renderCell:function(e){return Object(Q.jsx)(I.a,{fullWidth:!0,children:Object(Q.jsx)(R.a,{id:"Kpi-Kra-Master-multiple-checkbox-1",size:"small",multiple:!0,displayEmpty:!0,value:e.row.kpiAndKra,onChange:function(e){return e.preventDefault()},renderValue:function(e){return e.map((function(e){return e&&e.name})).join(", ")},MenuProps:X,children:J.map((function(t,a){return Object(Q.jsxs)(K.a,{value:t,children:[Object(Q.jsx)(P.a,{checked:e.row.kpiAndKra&&e.row.kpiAndKra.map((function(e){return e.id})).indexOf(t.id)>-1}),Object(Q.jsx)(N.a,{primary:"(".concat(t.rating,")").concat(t.name)})]},a)}))})})}},{field:"",headerName:"Actions",width:300,editable:!1,renderCell:function(e){return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(G.a,{color:"primary","aria-label":"edit group",onClick:function(){return se(e.row)},children:Object(Q.jsx)(B.a,{})}),Object(Q.jsx)(G.a,{color:"primary","aria-label":"delete group",onClick:function(){return de(e.row)},children:Object(Q.jsx)(F.a,{})})]})}}],$=m.c().shape({name:m.e().required("Group Name is required"),description:m.e()}),ee=Object(g.d)({initialValues:{id:"",name:"",description:"",kpiIds:[]},validationSchema:$,onSubmit:function(){var e=Object(c.a)(n.a.mark((function e(t,a){var c,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=a.setSubmitting,o=a.resetForm;try{s(Object(W.m)(Object(r.a)(Object(r.a)({},t),{},{kpiIds:t.kpiIds.map((function(e){return e.id}))}))),o(),c(!1),le(),i("Updated successfully",{variant:"success"})}catch(n){console.error(n),c(!1)}case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}),te=ee.errors,ae=ee.touched,ie=ee.values,ne=ee.handleSubmit,re=ee.isSubmitting,ce=ee.setFieldValue,oe=ee.getFieldProps,se=function(e){console.log("\ud83d\ude80 => values",e),e&&(ce("id",e.id),ce("name",e.name),ce("description",e.description),ce("kpiIds",e.kpiAndKra),A(!0))},le=function(){A(!1)},de=function(e){s(Object(W.d)(e.id))};return Object(Q.jsxs)(V.a,{title:"KPI-KRA Configuration List",children:[Object(Q.jsxs)(z.a,{children:[L.length>0&&Object(Q.jsx)(E.a,{action:Object(Q.jsx)(G.a,{onClick:function(){var e={ids:L};s(Object(W.k)(e))},color:"primary",children:Object(Q.jsx)(k.a,{icon:U.a})})}),Object(Q.jsx)(_.a,{children:Object(Q.jsx)("div",{style:{height:350,width:"100%"},children:Object(Q.jsx)("div",{style:{display:"flex",height:"100%"},children:Object(Q.jsx)("div",{style:{flexGrow:1},children:Object(Q.jsx)(H.a,{rows:t,columns:Z,rowsPerPageOptions:[5,25,100],loading:a,components:{LoadingOverlay:Y.a},checkboxSelection:!0,disableSelectionOnClick:!0,onSelectionModelChange:function(e){q(e)},selectionModel:L})})})})})]}),Object(Q.jsxs)(p.a,{fullWidth:!0,open:M,onClose:le,"aria-labelledby":"edit-group",children:[Object(Q.jsx)(f.a,{id:"edit-group",children:"Edit group"}),Object(Q.jsx)(O.a,{dividers:!0,children:Object(Q.jsx)(g.c,{value:ee,children:Object(Q.jsxs)(g.b,{noValidate:!0,autoComplete:"off",onSubmit:ne,children:[Object(Q.jsxs)(j.a,{spacing:3,children:[Object(Q.jsx)(b.a,Object(r.a)(Object(r.a)({fullWidth:!0,label:"Group Name"},oe("name")),{},{error:Boolean(ae.name&&te.name),helperText:ae.name&&te.name})),Object(Q.jsx)(b.a,Object(r.a)(Object(r.a)({fullWidth:!0,multiline:!0,minRows:3,maxRows:5,label:"Description"},oe("description")),{},{error:Boolean(ae.description&&te.description),helperText:ae.description&&te.description})),Object(Q.jsxs)(I.a,{fullWidth:!0,children:[Object(Q.jsx)(C.a,{id:"Kpi-Kra-Master-Id",children:"Kpi-Kra Master"}),Object(Q.jsx)(R.a,Object(r.a)(Object(r.a)({labelId:"Kpi-Kra-Master-Id",id:"Kpi-Kra-Master-multiple-checkbox",multiple:!0},oe("kpiIds")),{},{input:Object(Q.jsx)(S.a,{label:"Kpi-Kra Master"}),renderValue:function(e){return e.map((function(e){return e&&e.name})).join(", ")},MenuProps:X,children:J.map((function(e,t){return Object(Q.jsxs)(K.a,{value:e,children:[Object(Q.jsx)(P.a,{checked:ie.kpiIds&&ie.kpiIds.map((function(e){return e.id})).indexOf(e.id)>-1}),Object(Q.jsx)(N.a,{primary:"(".concat(e.rating,")").concat(e.name)})]},t)}))}))]})]}),Object(Q.jsxs)(h.a,{children:[Object(Q.jsx)(u.a,{onClick:le,children:"Cancel"}),Object(Q.jsx)(y.a,{fullWidth:!0,type:"submit",variant:"contained",size:"large",loading:re,children:"Save"})]})]})})})]})]})}var $={PaperProps:{style:{maxHeight:224,width:250}}};function ee(){var e=Object(D.a)().themeStretch,t=Object(x.b)().enqueueSnackbar,a=Object(v.b)(),i="KPI-KRA Configuration",s=l.a.useState(!1),w=Object(o.a)(s,2),H=w[0],z=w[1],_=Object(v.c)(W.j),G=m.c().shape({name:m.e().required("Group Name is required"),description:m.e()}),L=Object(g.d)({initialValues:{name:"",description:"",kpiIds:[]},validationSchema:G,onSubmit:function(){var e=Object(c.a)(n.a.mark((function e(i,c){var o,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=c.setSubmitting,s=c.resetForm;try{console.log("\ud83d\ude80 => values",i),a(Object(W.a)(Object(r.a)(Object(r.a)({},i),{},{kpiIds:i.kpiIds.map((function(e){return e&&e.id}))}))),s(),o(!1),ee(),t("Created successfully",{variant:"success"})}catch(n){console.error(n),o(!1)}case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}),B=L.errors,q=L.touched,F=L.values,E=L.handleSubmit,J=L.isSubmitting,U=L.getFieldProps,Y=Object(v.c)(W.h),X=Object(v.c)(W.i),ee=function(){z(!1)};return l.a.useEffect((function(){a(Object(W.f)()),a(Object(W.g)())}),[a]),Object(Q.jsx)(V.a,{title:i,children:Object(Q.jsxs)(d.a,{maxWidth:!e&&"lg",children:[Object(Q.jsx)(T.a,{heading:i,links:[{name:"Dashboard",href:A.b.general.root},{name:"Settings",href:A.b.timesheet.settings},{name:"KPI-KRA Configuration"}],action:Object(Q.jsx)(u.a,{variant:"contained",startIcon:Object(Q.jsx)(k.a,{icon:M.a}),onClick:function(){z(!0)},children:"New Group"})}),Object(Q.jsx)(Z,{rows:Y,isLoading:X}),Object(Q.jsxs)(p.a,{fullWidth:!0,open:H,onClose:ee,"aria-labelledby":"add-new-group",children:[Object(Q.jsx)(f.a,{id:"add-new-group",children:"Add new group"}),Object(Q.jsx)(O.a,{dividers:!0,children:Object(Q.jsx)(g.c,{value:L,children:Object(Q.jsxs)(g.b,{noValidate:!0,autoComplete:"off",onSubmit:E,children:[Object(Q.jsxs)(j.a,{spacing:3,children:[Object(Q.jsx)(b.a,Object(r.a)(Object(r.a)({fullWidth:!0,label:"Group Name"},U("name")),{},{error:Boolean(q.name&&B.name),helperText:q.name&&B.name})),Object(Q.jsx)(b.a,Object(r.a)(Object(r.a)({fullWidth:!0,multiline:!0,minRows:3,maxRows:5,label:"Description"},U("description")),{},{error:Boolean(q.description&&B.description),helperText:q.description&&B.description})),Object(Q.jsxs)(I.a,{fullWidth:!0,children:[Object(Q.jsx)(C.a,{id:"Kpi-Kra-Master-Id",children:"Kpi-Kra Master"}),Object(Q.jsx)(R.a,Object(r.a)(Object(r.a)({labelId:"Kpi-Kra-Master-Id",id:"Kpi-Kra-Master-multiple-checkbox",multiple:!0},U("kpiIds")),{},{input:Object(Q.jsx)(S.a,{label:"Kpi-Kra Master"}),renderValue:function(e){return e.map((function(e){return e&&e.name})).join(", ")},MenuProps:$,children:_.map((function(e,t){return Object(Q.jsxs)(K.a,{value:e,children:[Object(Q.jsx)(P.a,{checked:F.kpiIds.map((function(e){return e.id})).indexOf(e.id)>-1}),Object(Q.jsx)(N.a,{primary:"(".concat(e.rating,")").concat(e.name)})]},t)}))}))]})]}),Object(Q.jsxs)(h.a,{children:[Object(Q.jsx)(u.a,{onClick:ee,children:"Cancel"}),Object(Q.jsx)(y.a,{fullWidth:!0,type:"submit",variant:"contained",size:"large",loading:J||X,children:"Save"})]})]})})})]})]})})}}}]);
//# sourceMappingURL=12.3a91a9a5.chunk.js.map