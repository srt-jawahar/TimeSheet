(this["webpackJsonp@minimal/minimal-kit-react"]=this["webpackJsonp@minimal/minimal-kit-react"]||[]).push([[18],{781:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var r=a(2),c=a(36),i=a(206),n=a(312),o=a(257),s=a(752),l=a(34),d=a(0),u=["links","action","heading","moreLink","sx"];function b(e){var t=e.links,a=e.action,b=e.heading,j=e.moreLink,O=void 0===j?[]:j,_=e.sx,m=Object(c.a)(e,u);return Object(d.jsxs)(n.a,{sx:Object(r.a)({mb:5},_),children:[Object(d.jsxs)(n.a,{sx:{display:"flex",alignItems:"center"},children:[Object(d.jsxs)(n.a,{sx:{flexGrow:1},children:[Object(d.jsx)(o.a,{variant:"h4",gutterBottom:!0,children:b}),Object(d.jsx)(l.a,Object(r.a)({links:t},m))]}),a&&Object(d.jsx)(n.a,{sx:{flexShrink:0},children:a})]}),Object(d.jsx)(n.a,{sx:{mt:2},children:Object(i.isString)(O)?Object(d.jsx)(s.a,{href:O,target:"_blank",variant:"body2",children:O}):O.map((function(e){return Object(d.jsx)(s.a,{noWrap:!0,href:e,variant:"body2",target:"_blank",sx:{display:"table"},children:e},e)}))})]})}},784:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a(1);var r=a(847),c=a(783),i=a(0);function n(){return Object(i.jsx)(c.b,{children:Object(i.jsx)("div",{style:{position:"absolute",top:0,width:"100%"},children:Object(i.jsx)(r.a,{})})})}},788:function(e,t,a){"use strict";a.d(t,"b",(function(){return i}));var r=a(101),c=a(112);function i(e){return Object(r.a)("MuiDialogTitle",e)}var n=Object(c.a)("MuiDialogTitle",["root"]);t.a=n},789:function(e,t,a){"use strict";var r=a(258);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(a(259)),i=a(0),n=(0,c.default)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=n},790:function(e,t){t.__esModule=!0,t.default={body:'<path fill="currentColor" d="M19 11h-6V5a1 1 0 0 0-2 0v6H5a1 1 0 0 0 0 2h6v6a1 1 0 0 0 2 0v-6h6a1 1 0 0 0 0-2z"/>',width:24,height:24}},820:function(e,t,a){"use strict";var r=a(3),c=a(6),i=a(1),n=(a(10),a(11)),o=a(151),s=a(257),l=a(7),d=a(13),u=a(788),b=a(320),j=a(0),O=["className","id"],_=Object(l.a)(s.a,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,t){return t.root}})({padding:"16px 24px",flex:"0 0 auto"}),m=i.forwardRef((function(e,t){var a=Object(d.a)({props:e,name:"MuiDialogTitle"}),s=a.className,l=a.id,m=Object(c.a)(a,O),p=a,v=function(e){var t=e.classes;return Object(o.a)({root:["root"]},u.b,t)}(p),h=i.useContext(b.a).titleId,y=void 0===h?l:h;return Object(j.jsx)(_,Object(r.a)({component:"h2",className:Object(n.a)(v.root,s),ownerState:p,ref:t,variant:"h6",id:y},m))}));t.a=m},822:function(e,t,a){"use strict";var r=a(4),c=a(6),i=a(3),n=a(1),o=(a(10),a(11)),s=a(151),l=a(7),d=a(13),u=a(101),b=a(112);function j(e){return Object(u.a)("MuiDialogContent",e)}Object(b.a)("MuiDialogContent",["root","dividers"]);var O=a(788),_=a(0),m=["className","dividers"],p=Object(l.a)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,a.dividers&&t.dividers]}})((function(e){var t=e.theme,a=e.ownerState;return Object(i.a)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},a.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat(t.palette.divider),borderBottom:"1px solid ".concat(t.palette.divider)}:Object(r.a)({},".".concat(O.a.root," + &"),{paddingTop:0}))})),v=n.forwardRef((function(e,t){var a=Object(d.a)({props:e,name:"MuiDialogContent"}),r=a.className,n=a.dividers,l=void 0!==n&&n,u=Object(c.a)(a,m),b=Object(i.a)({},a,{dividers:l}),O=function(e){var t=e.classes,a={root:["root",e.dividers&&"dividers"]};return Object(s.a)(a,j,t)}(b);return Object(_.jsx)(p,Object(i.a)({className:Object(o.a)(O.root,r),ownerState:b,ref:t},u))}));t.a=v},823:function(e,t,a){"use strict";var r=a(6),c=a(3),i=a(1),n=(a(10),a(11)),o=a(151),s=a(7),l=a(13),d=a(101),u=a(112);function b(e){return Object(d.a)("MuiDialogActions",e)}Object(u.a)("MuiDialogActions",["root","spacing"]);var j=a(0),O=["className","disableSpacing"],_=Object(s.a)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,!a.disableSpacing&&t.spacing]}})((function(e){var t=e.ownerState;return Object(c.a)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),m=i.forwardRef((function(e,t){var a=Object(l.a)({props:e,name:"MuiDialogActions"}),i=a.className,s=a.disableSpacing,d=void 0!==s&&s,u=Object(r.a)(a,O),m=Object(c.a)({},a,{disableSpacing:d}),p=function(e){var t=e.classes,a={root:["root",!e.disableSpacing&&"spacing"]};return Object(o.a)(a,b,t)}(m);return Object(j.jsx)(_,Object(c.a)({className:Object(n.a)(p.root,i),ownerState:m,ref:t},u))}));t.a=m},835:function(e,t,a){"use strict";var r=a(6),c=a(3),i=a(1),n=(a(10),a(11)),o=a(151),s=a(7),l=a(13),d=a(101),u=a(112);function b(e){return Object(d.a)("MuiFormGroup",e)}Object(u.a)("MuiFormGroup",["root","row"]);var j=a(0),O=["className","row"],_=Object(s.a)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,a.row&&t.row]}})((function(e){var t=e.ownerState;return Object(c.a)({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})})),m=i.forwardRef((function(e,t){var a=Object(l.a)({props:e,name:"MuiFormGroup"}),i=a.className,s=a.row,d=void 0!==s&&s,u=Object(r.a)(a,O),m=Object(c.a)({},a,{row:d}),p=function(e){var t=e.classes,a={root:["root",e.row&&"row"]};return Object(o.a)(a,b,t)}(m);return Object(j.jsx)(_,Object(c.a)({className:Object(n.a)(p.root,i),ownerState:m,ref:t},u))}));t.a=m},934:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return K}));var r=a(2),c=a(8),i=a.n(c),n=a(18),o=a(16),s=a(1),l=a.n(s),d=a(764),u=a(749),b=a(724),j=a(765),O=a(767),_=a(744),m=a(741),p=a(775),v=a(835),h=a(772),y=a(830),f=a(719),x=a(823),g=a(822),w=a(820),k=a(47),S=a(780),q=a(76),C=a(58),N=a(790),M=a.n(N),D=a(46),R=a(24),W=a(31),T=a(781),z=a(152),Y=a(113),L=a(783),F=a(773),I=a(786),A=a(754),B=a(789),V=a.n(B),G=a(319),P=a(784),E=a(0);function J(e){var t=e.rows,a=e.isLoading,c=Object(q.b)().enqueueSnackbar,s=Object(D.b)(),d=l.a.useState(!1),N=Object(o.a)(d,2),M=N[0],R=N[1],W=Object(D.c)(G.h),T=k.c().shape({category_name:k.e().required("Category name is required").min(3).max(55,"Keep it short"),description:k.e(),country:k.c({country_code:k.e(),country_id:k.b(),country_name:k.e()}).required(),total_leave:k.b().required().max(366),is_doc_required:k.a(),is_remarks_required:k.a(),can_apply_continously:k.a(),is_active:k.a()}),z=Object(C.d)({initialValues:{category_name:"",description:"",country:"",total_leave:0,is_doc_required:!1,is_remarks_required:!1,can_apply_continously:!1,is_active:!1},validationSchema:T,onSubmit:function(){var e=Object(n.a)(i.a.mark((function e(t,a){var r,n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=a.setSubmitting,n=a.resetForm;try{o={leave_master_id:t.leave_master_id,category_name:t.category_name,description:t.description,country_name:t.country.country_name,country_code:t.country.country_code,total_leave:t.total_leave,is_doc_required:t.is_doc_required?"Y":"N",is_remarks_required:t.is_remarks_required?"Y":"N",can_apply_continously:t.can_apply_continously?"Y":"N",is_active:t.is_active?"Y":"N"},console.log("\ud83d\ude80 => payload",o),s(Object(G.b)(o)),n(),r(!1),Z(),c("Updated successfully",{variant:"success"})}catch(i){console.error(i),r(!1)}case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}),B=z.errors,J=z.touched,K=z.values,H=z.handleSubmit,U=z.isSubmitting,Q=z.getFieldProps,X=z.setFieldValue,Z=function(){R(!1)},$=[{field:"category_name",headerName:"Category Name",width:200,editable:!1},{field:"description",headerName:"Category Description",width:200,editable:!1},{field:"country_name",headerName:"Country Name",width:150,editable:!1},{field:"country_code",headerName:"Country Code",width:150,editable:!1},{field:"total_leave",headerName:"Total Days",width:130,editable:!1,type:"number"},{field:"is_doc_required",headerName:"Is Document Required",width:200,editable:!1},{field:"is_remarks_required",headerName:"Is Remarks Required",width:200,editable:!1},{field:"is_active",headerName:"Status",width:130,editable:!1},{field:"",headerName:"Actions",width:300,editable:!1,renderCell:function(e){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(A.a,{color:"primary","aria-label":"edit group",onClick:function(){return ee(e.row)},children:Object(E.jsx)(V.a,{})})})}}],ee=function(e){var t=W.find((function(t){return t.country_code===e.country_code}));X("category_name",e.category_name),X("leave_master_id",e.leave_master_id),X("description",e.description),X("country",t),X("country_code",e.country_code),X("total_leave",e.total_leave),X("is_doc_required","Y"===e.is_doc_required),X("is_remarks_required","Y"===e.is_remarks_required),X("can_apply_continously","Y"===e.can_apply_continously),X("is_active","Y"===e.is_active),R(!0)};return l.a.useEffect((function(){s(Object(G.d)())}),[s]),Object(E.jsxs)(Y.a,{title:"Leave Master List",children:[Object(E.jsx)(F.a,{children:Object(E.jsx)(I.a,{children:Object(E.jsx)("div",{style:{height:350,width:"100%"},children:Object(E.jsx)("div",{style:{display:"flex",height:"100%"},children:Object(E.jsx)("div",{style:{flexGrow:1},children:Object(E.jsx)(L.a,{rows:t,columns:$,rowsPerPageOptions:[5,25,100],loading:a,components:{LoadingOverlay:P.a},getRowId:function(e){return e.leave_master_id},checkboxSelection:!1,disableSelectionOnClick:!0})})})})})}),Object(E.jsxs)(f.a,{fullWidth:!0,open:M,onClose:Z,"aria-labelledby":"add-new-group",children:[Object(E.jsx)(w.a,{id:"add-new-group",children:"Edit leave policy"}),Object(E.jsx)(g.a,{dividers:!0,children:Object(E.jsx)(C.c,{value:z,children:Object(E.jsxs)(C.b,{noValidate:!0,autoComplete:"off",onSubmit:H,children:[Object(E.jsxs)(b.a,{spacing:3,children:[Object(E.jsx)(j.a,Object(r.a)(Object(r.a)({fullWidth:!0,size:"small",label:"Category Name"},Q("category_name")),{},{error:Boolean(J.category_name&&B.category_name),helperText:J.category_name&&B.category_name})),Object(E.jsx)(j.a,Object(r.a)(Object(r.a)({fullWidth:!0,size:"small",label:"Category Description"},Q("description")),{},{error:Boolean(J.description&&B.description),helperText:J.description&&B.description})),Object(E.jsxs)(O.a,{fullWidth:!0,variant:"outlined",size:"small",children:[Object(E.jsx)(_.a,{id:"country-select-label",children:"Country"}),Object(E.jsxs)(m.a,Object(r.a)(Object(r.a)({labelId:"country-select-label",id:"country-select",label:"country"},Q("country")),{},{children:[Object(E.jsx)(p.a,{value:"",children:"Select"}),W.map((function(e,t){return Object(E.jsxs)(p.a,{value:e,children:[e.country_name," ( ",e.country_code," )"]},t)}))]}))]}),Object(E.jsx)(j.a,Object(r.a)(Object(r.a)({fullWidth:!0,size:"small",type:"number",label:"Total number of days"},Q("total_leave")),{},{error:Boolean(J.total_leave&&B.total_leave),helperText:J.total_leave&&B.total_leave})),Object(E.jsx)(O.a,{component:"fieldset",children:Object(E.jsxs)(v.a,{children:[Object(E.jsx)(h.a,Object(r.a)(Object(r.a)({},Q("is_doc_required")),{},{control:Object(E.jsx)(y.a,{checked:K.is_doc_required}),label:"Document"})),Object(E.jsx)(h.a,Object(r.a)(Object(r.a)({},Q("is_remarks_required")),{},{control:Object(E.jsx)(y.a,{checked:K.is_remarks_required}),label:"Remarks"})),Object(E.jsx)(h.a,Object(r.a)(Object(r.a)({},Q("can_apply_continously")),{},{control:Object(E.jsx)(y.a,{checked:K.can_apply_continously}),label:"Can applied continuously"})),Object(E.jsx)(h.a,Object(r.a)(Object(r.a)({},Q("is_active")),{},{control:Object(E.jsx)(y.a,{checked:K.is_active}),label:"Active"}))]})})]}),Object(E.jsxs)(x.a,{children:[Object(E.jsx)(u.a,{onClick:Z,children:"Cancel"}),Object(E.jsx)(S.a,{fullWidth:!0,type:"submit",variant:"contained",size:"large",loading:U||a,children:"Save"})]})]})})})]})]})}function K(){var e=Object(z.a)().themeStretch,t="Leave Master",a=Object(q.b)().enqueueSnackbar,c=l.a.useState(!1),s=Object(o.a)(c,2),N=s[0],L=s[1],F=Object(D.b)(),I=Object(D.c)(G.h),A=Object(D.c)(G.q),B=Object(D.c)(G.l),V=k.c().shape({category_name:k.e().required("Category name is required").min(3).max(55,"Keep it short"),description:k.e(),country:k.c({country_code:k.e(),country_id:k.b(),country_name:k.e()}).required(),total_leave:k.b().required().max(366),is_doc_required:k.a(),is_remarks_required:k.a(),can_apply_continously:k.a(),is_active:k.a()}),P=Object(C.d)({initialValues:{category_name:"",description:"",country:"",total_leave:0,is_doc_required:!1,is_remarks_required:!1,can_apply_continously:!1,is_active:!1},validationSchema:V,onSubmit:function(){var e=Object(n.a)(i.a.mark((function e(t,r){var c,n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=r.setSubmitting,n=r.resetForm;try{console.log("\ud83d\ude80 => values",t),o={category_name:t.category_name,description:t.description,country_name:t.country.countryname,country_code:t.country.countrycode,total_leave:t.total_leave,is_doc_required:t.is_doc_required?"Y":"N",is_remarks_required:t.is_remarks_required?"Y":"N",can_apply_continously:t.can_apply_continously?"Y":"N",is_active:t.is_active?"Y":"N"},F(Object(G.b)(o)),n(),c(!1),Z(),a("Created successfully",{variant:"success"})}catch(i){console.error(i),c(!1)}case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}),K=P.errors,H=P.touched,U=P.handleSubmit,Q=P.isSubmitting,X=P.getFieldProps,Z=function(){L(!1)};return l.a.useEffect((function(){F(Object(G.d)()),F(Object(G.f)())}),[F]),Object(E.jsx)(Y.a,{title:t,children:Object(E.jsxs)(d.a,{maxWidth:!e&&"lg",children:[Object(E.jsx)(T.a,{heading:t,links:[{name:"Dashboard",href:W.b.general.root},{name:"Settings",href:W.b.timesheet.settings},{name:"Leave Master"}],action:Object(E.jsx)(u.a,{variant:"contained",onClick:function(){L(!0)},startIcon:Object(E.jsx)(R.a,{icon:M.a}),children:"New policy"})}),Object(E.jsx)(J,{rows:A,isLoading:B}),Object(E.jsxs)(f.a,{fullWidth:!0,open:N,onClose:Z,"aria-labelledby":"add-new-group",children:[Object(E.jsx)(w.a,{id:"add-new-group",children:"Add new leave policy"}),Object(E.jsx)(g.a,{dividers:!0,children:Object(E.jsx)(C.c,{value:P,children:Object(E.jsxs)(C.b,{noValidate:!0,autoComplete:"off",onSubmit:U,children:[Object(E.jsxs)(b.a,{spacing:3,children:[Object(E.jsx)(j.a,Object(r.a)(Object(r.a)({fullWidth:!0,size:"small",label:"Category Name"},X("category_name")),{},{error:Boolean(H.category_name&&K.category_name),helperText:H.category_name&&K.category_name})),Object(E.jsx)(j.a,Object(r.a)(Object(r.a)({fullWidth:!0,size:"small",label:"Category Description"},X("description")),{},{error:Boolean(H.description&&K.description),helperText:H.description&&K.description})),Object(E.jsxs)(O.a,{fullWidth:!0,variant:"outlined",size:"small",children:[Object(E.jsx)(_.a,{id:"country-select-label",children:"Country"}),Object(E.jsxs)(m.a,Object(r.a)(Object(r.a)({labelId:"country-select-label",id:"country-select",label:"country"},X("country")),{},{children:[Object(E.jsx)(p.a,{value:"",children:"Select"}),I.map((function(e,t){return Object(E.jsxs)(p.a,{value:e,children:[e.countryname," ( ",e.countrycode," )"]},t)}))]}))]}),Object(E.jsx)(j.a,Object(r.a)(Object(r.a)({fullWidth:!0,size:"small",type:"number",label:"Total number of days"},X("total_leave")),{},{error:Boolean(H.total_leave&&K.total_leave),helperText:H.total_leave&&K.total_leave})),Object(E.jsx)(O.a,{component:"fieldset",children:Object(E.jsxs)(v.a,{children:[Object(E.jsx)(h.a,Object(r.a)(Object(r.a)({},X("is_doc_required")),{},{control:Object(E.jsx)(y.a,{}),label:"Document"})),Object(E.jsx)(h.a,Object(r.a)(Object(r.a)({},X("is_remarks_required")),{},{control:Object(E.jsx)(y.a,{}),label:"Remarks"})),Object(E.jsx)(h.a,Object(r.a)(Object(r.a)({},X("can_apply_continously")),{},{control:Object(E.jsx)(y.a,{}),label:"Can applied continuously"})),Object(E.jsx)(h.a,Object(r.a)(Object(r.a)({},X("is_active")),{},{control:Object(E.jsx)(y.a,{}),label:"Active"}))]})})]}),Object(E.jsxs)(x.a,{children:[Object(E.jsx)(u.a,{onClick:Z,children:"Cancel"}),Object(E.jsx)(S.a,{fullWidth:!0,type:"submit",variant:"contained",size:"large",loading:Q||B,children:"Save"})]})]})})})]})]})})}}}]);
//# sourceMappingURL=18.beccc3be.chunk.js.map