(this["webpackJsonp@minimal/minimal-kit-react"]=this["webpackJsonp@minimal/minimal-kit-react"]||[]).push([[35],{781:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var r=a(2),n=a(36),i=a(206),o=a(312),s=a(257),c=a(752),l=a(34),d=a(0),p=["links","action","heading","moreLink","sx"];function h(e){var t=e.links,a=e.action,h=e.heading,u=e.moreLink,m=void 0===u?[]:u,j=e.sx,b=Object(n.a)(e,p);return Object(d.jsxs)(o.a,{sx:Object(r.a)({mb:5},j),children:[Object(d.jsxs)(o.a,{sx:{display:"flex",alignItems:"center"},children:[Object(d.jsxs)(o.a,{sx:{flexGrow:1},children:[Object(d.jsx)(s.a,{variant:"h4",gutterBottom:!0,children:h}),Object(d.jsx)(l.a,Object(r.a)({links:t},b))]}),a&&Object(d.jsx)(o.a,{sx:{flexShrink:0},children:a})]}),Object(d.jsx)(o.a,{sx:{mt:2},children:Object(i.isString)(m)?Object(d.jsx)(c.a,{href:m,target:"_blank",variant:"body2",children:m}):m.map((function(e){return Object(d.jsx)(c.a,{noWrap:!0,href:e,variant:"body2",target:"_blank",sx:{display:"table"},children:e},e)}))})]})}},786:function(e,t,a){"use strict";var r=a(3),n=a(6),i=a(1),o=(a(10),a(11)),s=a(151),c=a(7),l=a(13),d=a(101),p=a(112);function h(e){return Object(d.a)("MuiCardContent",e)}Object(p.a)("MuiCardContent",["root"]);var u=a(0),m=["className","component"],j=Object(c.a)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(){return{padding:16,"&:last-child":{paddingBottom:24}}})),b=i.forwardRef((function(e,t){var a=Object(l.a)({props:e,name:"MuiCardContent"}),i=a.className,c=a.component,d=void 0===c?"div":c,p=Object(n.a)(a,m),b=Object(r.a)({},a,{component:d}),O=function(e){var t=e.classes;return Object(s.a)({root:["root"]},h,t)}(b);return Object(u.jsx)(j,Object(r.a)({as:d,className:Object(o.a)(O.root,i),ownerState:b,ref:t},p))}));t.a=b},863:function(e,t,a){"use strict";var r=a(258);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(259)),i=a(0),o=(0,n.default)((0,i.jsx)("path",{d:"M18 2h-8L4 8v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-6 15-4-4h3V9.02L13 9v4h3l-4 4z"}),"SimCardDownload");t.default=o},905:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return K}));var r=a(2),n=a(8),i=a.n(n),o=a(18),s=a(16),c=a(1),l=a.n(c),d=a(764),p=a(773),h=a(786),u=a(724),m=a(767),j=a(744),b=a(741),O=a(775),f=a(765),v=a(438),x=a(924),g=a(780),M=a(932),A=a(46),y=a(863),S=a.n(y),I=a(31),D=a(781),R=a(152),Y=a(113),w=a(20),L=a(223),k=a(316),C=a(0);function K(){var e=Object(R.a)().themeStretch,t="Timesheet reports",a=l.a.useState(""),n=Object(s.a)(a,2),c=n[0],y=n[1],K=l.a.useState(new Date),W=Object(s.a)(K,2),E=W[0],N=W[1],U=l.a.useState(!1),T=Object(s.a)(U,2),_=T[0],P=T[1],G=l.a.useState(""),V=Object(s.a)(G,2),z=V[0],B=V[1];console.log("\ud83d\ude80 => selectedEmployee",z);var F=Object(A.b)(),H=Object(A.c)(k.g),J=localStorage.getItem("role"),q=localStorage.getItem("empId"),Q=[{id:1,report:"Leave details for the month",api:"/techstep/api/Timesheet/Service/report/leave/",parameter:"MonthYear",method:"getDataWithOptions"},{id:2,report:"All employee timsheet details for the month",api:"/techstep/api/Timesheet/Service/report/timesheet/ALL/",parameter:"MonthYear",method:"getDataWithOptions"},{id:3,report:"Aggregated details of the employee",api:"/techstep/api/Timesheet/Service/report/aggregate/",parameter:"MonthYear",method:"getDataWithOptions"},{id:4,report:"All employee detailed report",api:"/techstep/api/Timesheet/Service/report/detailedtimesheet/ALL/",parameter:"MonthYear",method:"getDataWithOptions"},{id:5,report:"All KPI-KRA Details for the month",api:"/techstep/api/UsersKpiAndKra/Service/KpiReportManager/",parameter:"MonthYear",method:"getDataWithOptions"},{id:6,report:"KPI - KRA Details for the month for an employee",api:"/techstep/api/UsersKpiAndKra/Service/KpiReportForSingleUser/",parameter:"MonthYearAndUser",method:"getDataWithOptions"}],X=[{id:2,report:"Your timesheet details for the month",api:"/techstep/api/Timesheet/Service/report/timesheet/".concat(q,"/"),parameter:"MonthYear",method:"getDataWithOptions"},{id:4,report:"Your detailed timesheet",api:"/techstep/api/Timesheet/Service/report/detailedtimesheet/".concat(q,"/"),parameter:"MonthYear",method:"getDataWithOptions"},{id:6,report:"KPI - KRA Details for the month",api:"/techstep/api/UsersKpiAndKra/Service/KpiReportForSingleUser/",parameter:"MonthYearIndividualUser",method:"getDataWithOptions"}],Z=function(e){y(e.target.value)},$=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a,r,n,o,s,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),t="ROLE_ADMIN"===J||"ROLE_MANAGER"===J?Q.find((function(e){return e.id===+c})):X.find((function(e){return e.id===+c})),a=Object(v.a)(E,"MM/yyyy"),r="MonthYearAndUser"===t.parameter?"".concat(t.api+a,"/").concat(z.employeeId):"MonthYearIndividualUser"===t.parameter?"".concat(t.api+a,"/").concat(q):t.api+a,e.next=6,w.a.methods[t.method](r,{responseType:"blob"});case 6:n=e.sent,o=n.headers["content-type"],s=new Blob([n.data],{type:o}),l=n.headers["content-disposition"].split("filename=")[1],Object(L.a)(s,l),P(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee="ROLE_ADMIN"===J||"ROLE_MANAGER"===J?Q.find((function(e){return e.id===+c})):X.find((function(e){return e.id===+c}));return l.a.useEffect((function(){F(Object(k.f)())}),[]),Object(C.jsx)(Y.a,{title:t,children:Object(C.jsxs)(d.a,{maxWidth:!e&&"lg",children:[Object(C.jsx)(D.a,{heading:t,links:[{name:"Dashboard",href:I.b.general.root},{name:"Timesheet reports"}]}),Object(C.jsx)(p.a,{children:Object(C.jsxs)(h.a,{sx:{minHeight:300},children:[Object(C.jsxs)(u.a,{direction:{xs:"column",sm:"column",md:"row"},spacing:{xs:1,sm:2,md:4},children:[Object(C.jsxs)(m.a,{fullWidth:!0,children:[Object(C.jsx)(j.a,{id:"available-reports-id",children:"Available reports"}),"ROLE_ADMIN"===J||"ROLE_MANAGER"===J?Object(C.jsxs)(b.a,{variant:"standard",labelId:"available-reports-id",id:"available-reports-select",value:c,label:"Available reports",onChange:Z,children:[Object(C.jsx)(O.a,{value:"",children:"None"}),Q.map((function(e,t){return Object(C.jsx)(O.a,{value:e.id,children:e.report},t)}))]}):Object(C.jsxs)(b.a,{variant:"standard",labelId:"available-reports-id",id:"available-reports-select",value:c,label:"Available reports",onChange:Z,children:[Object(C.jsx)(O.a,{value:"",children:"None"}),X.map((function(e,t){return Object(C.jsx)(O.a,{value:e.id,children:e.report},t)}))]})]}),ee&&"MonthYear"===ee.parameter&&Object(C.jsx)(x.a,{views:["month","year"],label:"Month and Year",value:E,onChange:function(e){return N(e)},renderInput:function(e){return Object(C.jsx)(f.a,Object(r.a)({variant:"standard"},e))}}),ee&&"MonthYearAndUser"===ee.parameter&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(x.a,{views:["month","year"],label:"Month and Year",value:E,onChange:function(e){return N(e)},renderInput:function(e){return Object(C.jsx)(f.a,Object(r.a)({fullWidth:!0,variant:"standard"},e))}}),Object(C.jsx)(M.a,{disablePortal:!0,autoHighlight:!0,id:"employeeId-id",value:z,onChange:function(e,t){t&&(console.log("\ud83d\ude80 => newValue",t),B(t))},fullWidth:!0,options:H,isOptionEqualToValue:function(e,t){return e.id===t.id},getOptionLabel:function(e){return e.name||""},renderInput:function(e){return Object(C.jsx)(f.a,Object(r.a)(Object(r.a)({variant:"standard"},e),{},{label:"User"}))}})]})]}),Object(C.jsx)(u.a,{sx:{mt:1},children:Object(C.jsx)(g.a,{loading:_,endIcon:Object(C.jsx)(S.a,{}),loadingIndicator:"Downloading...",variant:"contained",onClick:$,size:"small",disabled:""===c,children:"Download"})})]})})]})})}}}]);
//# sourceMappingURL=35.dc6eac04.chunk.js.map