(this["webpackJsonp@minimal/minimal-kit-react"]=this["webpackJsonp@minimal/minimal-kit-react"]||[]).push([[44],{781:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(2),c=n(36),i=n(206),r=n(312),s=n(257),l=n(752),o=n(34),d=n(0),j=["links","action","heading","moreLink","sx"];function u(e){var t=e.links,n=e.action,u=e.heading,b=e.moreLink,h=void 0===b?[]:b,O=e.sx,m=Object(c.a)(e,j);return Object(d.jsxs)(r.a,{sx:Object(a.a)({mb:5},O),children:[Object(d.jsxs)(r.a,{sx:{display:"flex",alignItems:"center"},children:[Object(d.jsxs)(r.a,{sx:{flexGrow:1},children:[Object(d.jsx)(s.a,{variant:"h4",gutterBottom:!0,children:u}),Object(d.jsx)(o.a,Object(a.a)({links:t},m))]}),n&&Object(d.jsx)(r.a,{sx:{flexShrink:0},children:n})]}),Object(d.jsx)(r.a,{sx:{mt:2},children:Object(i.isString)(h)?Object(d.jsx)(l.a,{href:h,target:"_blank",variant:"body2",children:h}):h.map((function(e){return Object(d.jsx)(l.a,{noWrap:!0,href:e,variant:"body2",target:"_blank",sx:{display:"table"},children:e},e)}))})]})}},918:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return H}));var a=n(16),c=n(206),i=n(1),r=n(24),s=n(807),l=n(808),o=n(848),d=n(833),j=n(312),u=n(764),b=n(749),h=n(773),O=n(786),m=n(724),x=n(805),f=n(809),g=n(765),p=n(806),v=n(834),k=n(930),S=n(844),y=n.n(S),I=n(845),P=n.n(I),C=n(804),w=n.n(C),L=n(76),N=n(83),D=n.n(N),W=n(827),A=n(46),M=n(27),R=n(325),T=n(781),q=n(31),B=n(152),z=n(113),E=n(154),_=n(34),F=n(0);function J(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}var U=[{id:"category",numeric:!1,disablePadding:!1,label:"Category"},{id:"project",numeric:!1,disablePadding:!1,label:"Project"},{id:"activity",numeric:!1,disablePadding:!1,label:"Activity"},{id:"status",numeric:!1,disablePadding:!1,label:"Status"},{id:"timespent",numeric:!1,disablePadding:!1,label:"Time Spent(IN MINS)"},{id:"remarks",numeric:!1,disablePadding:!1,label:"Remarks"}];function G(e){var t=e.order,n=e.orderBy,a=e.onRequestSort;return Object(F.jsx)(s.a,{children:Object(F.jsx)(l.a,{children:U.map((function(e){return Object(F.jsx)(o.a,{align:"center",padding:e.disablePadding?"none":"normal",sortDirection:n===e.id&&t,children:Object(F.jsxs)(d.a,{active:n===e.id,direction:n===e.id?t:"asc",onClick:(c=e.id,function(e){a(e,c)}),children:[e.label,n===e.id?Object(F.jsx)(j.a,{component:"span",sx:W.a,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var c}))})})}function H(){var e=i.useState("asc"),t=Object(a.a)(e,2),n=t[0],s=t[1],d=i.useState("id"),j=Object(a.a)(d,2),S=j[0],I=j[1],C=i.useState([]),N=Object(a.a)(C,2),W=N[0],U=N[1],H=i.useState(0),K=Object(a.a)(H,2),Q=K[0],V=K[1],X=i.useState(5),Y=Object(a.a)(X,2),Z=Y[0],$=Y[1],ee=Object(A.c)(R.f),te=Object(L.b)(),ne=te.enqueueSnackbar,ae=te.closeSnackbar,ce="Approval List",ie=Object(A.b)(),re=Object(M.h)(),se=Object(B.a)().themeStretch,le=i.useState(""),oe=Object(a.a)(le,2),de=oe[0],je=(oe[1],i.useState("")),ue=Object(a.a)(je,2),be=ue[0],he=ue[1],Oe=Object(A.c)(R.h),me=function(e){var t=Number(e)/60,n=Math.floor(t),a=60*(t-n),c=Math.round(a);return"".concat(n,".").concat(c)},xe=0===ee.length?0:ee.map((function(e){return e.minutes})).reduce((function(e,t){return Number(e)+Number(t)})),fe=function(e){var t=null,n="";n="approve"===e?"Approved Successfully":"Rejected Successfully";for(var a=0;a<ee.length;a+=1){t=ee[a].timesheetId.id;break}var c={requestHeader:{SourceSystem:"",UUID:"",TimeStamp:new Date},requestData:{timesheetId:t,date:new Date,managercomments:be,sendNotificationsTo:"",hours:me(xe),minutes:xe.toString(),usercomments:be,userId:"userid",action:e}};ie(Object(R.j)(c)).then((function(){ne(n,{variant:"success",action:function(e){return Object(F.jsx)(_.c,{size:"small",onClick:function(){return ae(e)},children:Object(F.jsx)(r.a,{icon:D.a})})}}),re(q.b.timesheet.approval)})).catch((function(e){ne(e,{variant:"error",action:function(e){return Object(F.jsx)(_.c,{size:"small",onClick:function(){return ae(e)},children:Object(F.jsx)(r.a,{icon:D.a})})}})}))},ge=Q>0?Math.max(0,(1+Q)*Z-ee.length):0,pe=function(e,t,n){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n?Object(c.filter)(e,(function(e){return-1!==e.empId.toLowerCase().indexOf(n.toLowerCase())})):a.map((function(e){return e[0]}))}(ee,function(e,t){return"desc"===e?function(e,n){return J(e,n,t)}:function(e,n){return-J(e,n,t)}}(n,S),de);return Object(F.jsx)(z.a,{title:ce,children:Object(F.jsxs)(u.a,{maxWidth:!se&&"lg",children:[Object(F.jsx)(T.a,{heading:ce,links:[{name:"Dashboard",href:q.b.root},{name:"Approval List",href:q.b.timesheet.approval},{name:"Individual List"}],action:Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(b.a,{variant:"contained",startIcon:Object(F.jsx)(w.a,{}),onClick:function(){ie(Object(R.g)()).then((function(){re(q.b.timesheet.approval)}))},children:"Back"})," ",Object(F.jsx)(b.a,{variant:"contained",startIcon:Object(F.jsx)(y.a,{}),onClick:function(){return fe("approve")},children:"Approve"})," ",Object(F.jsx)(b.a,{variant:"contained",startIcon:Object(F.jsx)(P.a,{}),onClick:function(){return fe("additional_info")},children:"Reject"})]})}),Object(F.jsx)(h.a,{children:Object(F.jsx)(O.a,{children:Object(F.jsx)(m.a,{spacing:3,children:Object(F.jsx)(E.a,{children:Object(F.jsxs)(x.a,{children:[Object(F.jsx)(f.a,{children:Object(F.jsxs)(l.a,{children:[Object(F.jsx)(o.a,{style:{fontWeight:"bolder"},children:"Employee Id"}),Object(F.jsx)(o.a,{align:"center",children:Oe.empId}),Object(F.jsx)(o.a,{style:{fontWeight:"bolder"},children:"Employee Name"}),Object(F.jsx)(o.a,{align:"right",children:Oe.name}),Object(F.jsx)(o.a,{style:{fontWeight:"bolder"},children:"Date"}),Object(F.jsx)(o.a,{align:"right",children:Oe.date?Oe.date.substr(0,10):"-"}),Object(F.jsx)(o.a,{colSpan:3,children:Object(F.jsx)(g.a,{fullWidth:!0,autoFocus:!0,size:"small",label:"Enter your comments",multiline:!0,variant:"standard",name:"comments",value:be,onChange:function(e){he(e.target.value)},inputProps:{maxLength:255}})})]})}),Object(F.jsxs)(p.a,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:"small",children:[Object(F.jsx)(G,{numSelected:W.length,order:n,orderBy:S,onSelectAllClick:function(e){if(e.target.checked){var t=ee.map((function(e){return e.id}));U(t)}else U([])},onRequestSort:function(e,t){s(S===t&&"asc"===n?"desc":"asc"),I(t)},rowCount:ee.length}),Object(F.jsxs)(f.a,{children:[pe.slice(Q*Z,Q*Z+Z).map((function(e,t){return Object(F.jsxs)(l.a,{hover:!0,tabIndex:-1,children:[Object(F.jsx)(o.a,{align:"left",children:e.category}),Object(F.jsx)(o.a,{align:"left",children:e.project}),Object(F.jsx)(o.a,{align:"left",style:{width:"30%",wordBreak:"break-all"},children:e.activity}),Object(F.jsx)(o.a,{align:"left",children:e.status}),Object(F.jsx)(o.a,{align:"center",children:e.minutes}),Object(F.jsx)(o.a,{align:"left",children:e.remarks})]},t)})),ge>0&&Object(F.jsx)(l.a,{children:Object(F.jsx)(o.a,{colSpan:6})})]}),Object(F.jsxs)(v.a,{children:[Object(F.jsxs)(l.a,{children:[Object(F.jsx)(o.a,{colSpan:3}),Object(F.jsx)(o.a,{children:"Total (mins) "}),Object(F.jsx)(o.a,{align:"center",children:xe})]}),Object(F.jsxs)(l.a,{children:[Object(F.jsx)(o.a,{colSpan:3}),Object(F.jsx)(o.a,{children:"Total (hrs) "}),Object(F.jsx)(o.a,{align:"center",children:function(e){var t=Number(e)/60,n=Math.floor(t),a=60*(t-n),c=Math.round(a);return"".concat(n," hour(s) and ").concat(c," minute(s).")}(xe)})]})]})]}),Object(F.jsx)(k.a,{rowsPerPageOptions:[5,10,25],component:"div",count:ee.length,rowsPerPage:Z,page:Q,onPageChange:function(e,t){V(t)},onRowsPerPageChange:function(e){$(parseInt(e.target.value,10)),V(0)}})]})})})})})]})})}}}]);
//# sourceMappingURL=44.1afe8fdc.chunk.js.map